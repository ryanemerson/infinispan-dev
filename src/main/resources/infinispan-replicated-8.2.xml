<?xml version="1.0" encoding="UTF-8"?>

<!--

   This is just a very simplistic example configuration file.  For more information, please see
   http://docs.jboss.org/infinispan/8.2/configdocs/

-->

<infinispan
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="urn:infinispan:config:8.2 http://infinispan.org/schemas/infinispan-config-8.2.xsd"
        xmlns="urn:infinispan:config:8.2">
    <jgroups>
        <stack-file/>
    </jgroups>
    <cache-container default-cache="default" statistics="true">
        <transport initial-cluster-size="2" initial-cluster-timeout="30000" />
        <replicated-cache name="repl" mode="ASYNC">
            <transaction mode="BATCH"/>
            <locking acquire-timeout="30000" concurrency-level="1000" striping="false"/>
            <eviction strategy="LRU" max-entries="10000"/>
            <persistence passivation="false">
                <string-keyed-jdbc-store xmlns="urn:infinispan:config:store:jdbc:8.0" shared="true">
                    <!--<data-source jndi-url="java:jboss/datasources/Postgres" />-->
                    <connection-pool connection-url="jdbc:postgresql:postgres" username="postgres" driver="org.postgresql.Driver" password="redhat"/>
                    <string-keyed-table drop-on-exit="true" create-on-start="true" prefix="test">
                        <id-column name="ID" type="VARCHAR(255)" />
                        <data-column name="DATA" type="BYTEA" />
                        <timestamp-column name="TIMESTAMP" type="BIGINT" />
                    </string-keyed-table>
                    <write-behind flush-lock-timeout="1" modification-queue-size="1024" shutdown-timeout="25000" thread-pool-size="4"/>
                </string-keyed-jdbc-store>
            </persistence>
        </replicated-cache>
    </cache-container>
</infinispan>